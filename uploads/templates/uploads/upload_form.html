{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Upload Files</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- File input -->
        <div class="mb-3">
            <label for="id_file" class="form-label">Choose Files</label>
            <input type="file" class="form-control" id="id_file" name="file" multiple required>
            <div id="fileList" class="mt-3"></div> <!-- File names will be shown here -->
        </div>

        <!-- Submit button -->
        <button type="submit" class="btn btn-primary">Далее</button>
    </form>
</div>

<script>
    // Show file names dynamically as the user selects files
    const fileInput = document.getElementById('id_file');
    const fileList = document.getElementById('fileList');

    fileInput.addEventListener('change', function() {
        fileList.innerHTML = '';  // Clear previous file list

        // Show the selected file names
        Array.from(fileInput.files).forEach(file => {
            const fileName = document.createElement('p');
            fileName.textContent = file.name;
            fileList.appendChild(fileName);
        });
    });
</script>
{% endblock %}
